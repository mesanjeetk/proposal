<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Funny Proposal 💌</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ffe6f2 0%, #ffd6e8 50%, #ffb3d9 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      overflow: hidden;
      position: relative;
      padding: 20px;
    }
    
    .container {
      max-width: 500px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 10;
      position: relative;
    }
    
    h1 {
      color: #ff3385;
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .buttons-container {
      display: flex;
      gap: 20px;
      align-items: center;
      justify-content: center;
      width: 100%;
      z-index: 20;
      flex-wrap: wrap;
    }
    
    button {
      font-size: clamp(16px, 3vw, 20px);
      padding: 15px 30px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      min-width: 120px;
    }
    
    #yesBtn {
      background: linear-gradient(45deg, #33cc33, #00ff66);
      color: white;
      transform: scale(1);
      animation: glow 2s ease-in-out infinite alternate;
    }
    
    #yesBtn:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(51, 204, 51, 0.4);
    }
    
    @keyframes glow {
      from { box-shadow: 0 6px 20px rgba(51, 204, 51, 0.3); }
      to { box-shadow: 0 6px 30px rgba(51, 204, 51, 0.6); }
    }
    
    .no-container {
      position: relative;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 15;
    }
    
    .no-container.escaped {
      position: fixed;
      z-index: 15;
    }
    
    #noBtn {
      background: linear-gradient(45deg, #ff3333, #ff6666);
      color: white;
      pointer-events: auto;
    }
    
    #noBtn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(255, 51, 51, 0.4);
    }
    
    #message {
      margin: 30px 0;
      font-size: clamp(18px, 4vw, 24px);
      color: #cc0066;
      min-height: 60px;
      font-weight: bold;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .image-container {
      width: 100%;
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
    
    #funnyImg {
      width: clamp(200px, 40vw, 280px);
      height: auto;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      max-width: 100%;
    }
    
    #funnyImg:hover {
      transform: scale(1.02);
    }
    
    /* Fireworks canvas */
    #fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 5;
    }
    
    /* Hearts animation */
    .heart {
      position: absolute;
      color: #ff69b4;
      font-size: 20px;
      pointer-events: none;
      z-index: 3;
      animation: floatUp 3s linear infinite;
    }
    
    @keyframes floatUp {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(0deg);
      }
      100% {
        opacity: 0;
        transform: translateY(-100vh) rotate(360deg);
      }
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .buttons-container {
        gap: 15px;
        flex-direction: column;
      }
      
      button {
        padding: 12px 25px;
        min-width: 100px;
        width: 200px;
      }
      
      #message {
        margin: 20px 0;
        min-height: 50px;
      }
    }
    
    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      h1 {
        margin-bottom: 20px;
      }
      
      button {
        padding: 10px 20px;
        font-size: 16px;
        width: 180px;
      }
      
      #funnyImg {
        width: clamp(150px, 50vw, 200px);
      }
      
      .buttons-container {
        gap: 10px;
      }
    }
    
    @media (orientation: landscape) and (max-height: 600px) {
      body {
        padding: 10px;
      }
      
      h1 {
        font-size: 1.5rem;
        margin-bottom: 15px;
      }
      
      #message {
        margin: 15px 0;
        min-height: 40px;
      }
      
      #funnyImg {
        width: clamp(120px, 25vw, 180px);
      }
      
      .buttons-container {
        flex-direction: row;
        gap: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Will you be mine? 💕</h1>
    
    <div class="buttons-container">
      <button id="yesBtn">Yes! 💖</button>
      <div class="no-container" id="noContainer">
        <button id="noBtn">No 😅</button>
      </div>
    </div>
    
    <div id="message"></div>
    
    <div class="image-container">
      <img id="funnyImg" src="https://media.giphy.com/media/5GoVLqeAOo6PK/giphy.gif" alt="Funny reaction">
    </div>
  </div>
  
  <canvas id="fireworks"></canvas>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noContainer = document.getElementById("noContainer");
    const message = document.getElementById("message");
    const funnyImg = document.getElementById("funnyImg");
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    
    let noClickCount = 0;
    let isEscaping = false;
    
    // Extended funny lines with more variety
    const funnyLines = [
      "Areey, maan bhi jao na 😅",
      "Accept kar lo na please 💖",
      "Itni bhi kya sharam hai 🙈",
      "Arey yaar, Yes daba do 😂",
      "Chalo na, ek chance toh do 🥺",
      "Please please please 🙏",
      "Main itna bura thodi hun 😢",
      "Soch lo... last chance! 😏",
      "Ab toh yes hi bolna padega 😎",
      "Tumhe koi choice nahi hai! 😈"
    ];
    
    // More GIFs for different click counts
    const noGifs = [
      "https://media.giphy.com/media/5GoVLqeAOo6PK/giphy.gif",           // Initial cute
      "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",       // Confused
      "https://media.giphy.com/media/3o6Zt6ML6BklcajjsA/giphy.gif",      // Surprised
      "https://media.giphy.com/media/l46Cy1rHbQ92uuLXa/giphy.gif",       // Pleading
      "https://media.giphy.com/media/26ufcVAp3AiJJsrIs/giphy.gif",       // Sad puppy eyes
      "https://media.giphy.com/media/l0HlvtIPzPdt2usKs/giphy.gif",       // Dramatic
      "https://media.giphy.com/media/3o7aCRloybJlXpNjSU/giphy.gif",      // Persistent
      "https://media.giphy.com/media/l46CyJmS9KUbokzsI/giphy.gif",       // Determined
      "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",       // Getting serious
      "https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif"        // Final boss mode
    ];
    
    const yesGif = "https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif";
    
    // Create floating hearts
    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = '💖';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
      document.body.appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 5000);
    }
    
    // Get safe boundaries for button movement
    function getSafeBoundaries() {
      const buttonWidth = noContainer.offsetWidth;
      const buttonHeight = noContainer.offsetHeight;
      const padding = 20; // Minimum distance from edges
      
      return {
        minX: padding,
        maxX: window.innerWidth - buttonWidth - padding,
        minY: padding,
        maxY: window.innerHeight - buttonHeight - padding
      };
    }
    
    // Yes button click handler
    yesBtn.addEventListener("click", () => {
      message.innerText = "Yay! 🥰 You said YES ❤️ I'm so happy!";
      funnyImg.src = yesGif;
      noContainer.style.display = 'none';
      
      // Launch fireworks
      launchFireworks();
      
      // Create continuous hearts
      const heartInterval = setInterval(createHeart, 300);
      setTimeout(() => clearInterval(heartInterval), 5000);
      
      // Change button text
      yesBtn.innerText = "You made me happy! 💕";
      yesBtn.style.background = "linear-gradient(45deg, #ff69b4, #ff1493)";
    });
    
    // No button click handler with progressive difficulty
    noContainer.addEventListener("click", () => {
      if (noClickCount < funnyLines.length) {
        message.innerText = funnyLines[noClickCount];
        
        // Change GIF based on click count
        const gifIndex = Math.min(noClickCount, noGifs.length - 1);
        funnyImg.src = noGifs[gifIndex];
        
        // Make Yes button bigger with each No click
        const scale = 1 + (noClickCount * 0.1);
        yesBtn.style.transform = `scale(${scale})`;
        
        // Change No button text progressively
        if (noClickCount >= 3) {
          document.getElementById('noBtn').innerText = "No? 🤔";
        }
        if (noClickCount >= 6) {
          document.getElementById('noBtn').innerText = "Still No? 😢";
        }
        if (noClickCount >= 8) {
          document.getElementById('noBtn').innerText = "Really? 😭";
        }
        
      } else {
        message.innerText = "Alright, now you HAVE to say Yes! 😎";
        funnyImg.src = noGifs[Math.floor(Math.random() * noGifs.length)];
      }
      
      noClickCount++;
      
      // Start making button run away after 3 clicks
      if (noClickCount >= 3) {
        startEscaping();
      }
    });
    
    // Start the escaping behavior
    function startEscaping() {
      if (isEscaping) return;
      
      isEscaping = true;
      noContainer.classList.add('escaped');
      
      // Move to random position immediately
      moveToRandomPosition();
      
      // Add hover and touch escape events
      noContainer.addEventListener("mouseover", moveToRandomPosition);
      noContainer.addEventListener("touchstart", moveToRandomPosition);
      
      // Also move randomly every few seconds to make it more challenging
      setInterval(() => {
        if (isEscaping && Math.random() < 0.3) { // 30% chance
          moveToRandomPosition();
        }
      }, 2000);
    }
    
    // Move button to random position within safe boundaries
    function moveToRandomPosition() {
      if (!isEscaping) return;
      
      const boundaries = getSafeBoundaries();
      
      // Generate random position within safe boundaries
      let x = Math.random() * (boundaries.maxX - boundaries.minX) + boundaries.minX;
      let y = Math.random() * (boundaries.maxY - boundaries.minY) + boundaries.minY;
      
      // Ensure minimum distance from current position for better effect
      const currentRect = noContainer.getBoundingClientRect();
      const minDistance = 150;
      let attempts = 0;
      
      while (attempts < 10) { // Prevent infinite loop
        const distance = Math.sqrt(
          Math.pow(x - currentRect.left, 2) + Math.pow(y - currentRect.top, 2)
        );
        
        if (distance >= minDistance) break;
        
        x = Math.random() * (boundaries.maxX - boundaries.minX) + boundaries.minX;
        y = Math.random() * (boundaries.maxY - boundaries.minY) + boundaries.minY;
        attempts++;
      }
      
      // Apply the new position
      noContainer.style.left = x + "px";
      noContainer.style.top = y + "px";
      
      // Add rotation for extra fun
      const rotation = Math.random() * 360;
      noContainer.style.transform = `rotate(${rotation}deg)`;
      
      setTimeout(() => {
        noContainer.style.transform = `rotate(0deg)`;
      }, 300);
    }
    
    /* Enhanced Fireworks Animation */
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    const particles = [];
    const colors = ['#ff69b4', '#ff1493', '#ffd700', '#00ff7f', '#1e90ff', '#ff4500'];
    
    function launchFireworks() {
      // Create multiple bursts
      for (let burst = 0; burst < 5; burst++) {
        setTimeout(() => {
          const centerX = Math.random() * canvas.width;
          const centerY = Math.random() * (canvas.height * 0.6) + canvas.height * 0.2;
          
          for (let i = 0; i < 50; i++) {
            particles.push({
              x: centerX,
              y: centerY,
              angle: Math.random() * 2 * Math.PI,
              speed: Math.random() * 8 + 3,
              radius: Math.random() * 3 + 1,
              life: 120,
              maxLife: 120,
              color: colors[Math.floor(Math.random() * colors.length)],
              gravity: 0.02
            });
          }
        }, burst * 800);
      }
    }
    
    function drawFireworks() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles.forEach((p, i) => {
        p.x += Math.cos(p.angle) * p.speed;
        p.y += Math.sin(p.angle) * p.speed + p.gravity * (p.maxLife - p.life);
        p.speed *= 0.99; // Slow down over time
        p.life--;
        
        const alpha = p.life / p.maxLife;
        
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.globalAlpha = alpha;
        ctx.fill();
        ctx.globalAlpha = 1;
        
        if (p.life <= 0) {
          particles.splice(i, 1);
        }
      });
      
      requestAnimationFrame(drawFireworks);
    }
    
    drawFireworks();
    
    // Handle window resize - update canvas and recalculate boundaries
    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      // If button is escaped and outside new boundaries, move it back
      if (isEscaping) {
        const boundaries = getSafeBoundaries();
        const rect = noContainer.getBoundingClientRect();
        
        if (rect.left < boundaries.minX || rect.left > boundaries.maxX || 
            rect.top < boundaries.minY || rect.top > boundaries.maxY) {
          moveToRandomPosition();
        }
      }
    });
    
    // Add some initial floating hearts
    setInterval(() => {
      if (Math.random() < 0.1) { // 10% chance every interval
        createHeart();
      }
    }, 2000);
  </script>
</body>
</html>
